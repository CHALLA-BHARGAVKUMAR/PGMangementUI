<div class="container mt-4">
  <h2>Room List</h2>

  <!-- Room List Table -->
  <table class="table table-bordered table-hover">
    <thead>
      <tr>
        <th (click)="onSort('id')" class="cursor-pointer">
          ID
          <span *ngIf="sortBy === 'id'">
            <i *ngIf="!sortDescending" class="fas fa-arrow-up"></i>
            <i *ngIf="sortDescending" class="fas fa-arrow-down"></i>
          </span>
        </th>
        <th (click)="onSort('RoomNumber')" class="cursor-pointer">
          Room No
          <span *ngIf="sortBy === 'RoomNumber'">
            <i *ngIf="!sortDescending" class="fas fa-arrow-up"></i>
            <i *ngIf="sortDescending" class="fas fa-arrow-down"></i>
          </span>
        </th>
        <th (click)="onSort('Occupancy')" class="cursor-pointer">
          Occupied
          <span *ngIf="sortBy === 'Occupancy'">
            <i *ngIf="!sortDescending" class="fas fa-arrow-up"></i>
            <i *ngIf="sortDescending" class="fas fa-arrow-down"></i>
          </span>
        </th>
        <th (click)="onSort('AvailableBeds')" class="cursor-pointer">
          Beds Available
          <span *ngIf="sortBy === 'AvailableBeds'">
            <i *ngIf="!sortDescending" class="fas fa-arrow-up"></i>
            <i *ngIf="sortDescending" class="fas fa-arrow-down"></i>
          </span>
        </th>
        <th (click)="onSort('Type')" class="cursor-pointer">
          Type
          <span *ngIf="sortBy === 'Type'">
            <i *ngIf="!sortDescending" class="fas fa-arrow-up"></i>
            <i *ngIf="sortDescending" class="fas fa-arrow-down"></i>
          </span>
        </th>
        <th (click)="onSort('capacity')" class="cursor-pointer">
          Capacity
          <span *ngIf="sortBy === 'capacity'">
            <i *ngIf="!sortDescending" class="fas fa-arrow-up"></i>
            <i *ngIf="sortDescending" class="fas fa-arrow-down"></i>
          </span>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let room of rooms">
        <td>{{ room.id }}</td>
        <td>{{ room.roomNo }}</td>
        <td>{{ room.occupied }}</td>
        <td>{{ room.bedsAvailable }}</td>
        <td>{{ room.type }}</td>
        <td>{{ room.capacity }}</td>
      </tr>
    </tbody>
  </table>

  <!-- Pagination Controls with Page Size Selection -->
  <nav aria-label="Room list pagination">
    <div class="d-flex justify-content-between align-items-center">
      <!-- Page Size Dropdown -->
      <div>
        <label for="pageSize" class="form-label">Items per page:</label>
        <select id="pageSize" class="form-select" [(ngModel)]="pageSize" (change)="onPageSizeChange()">
          <option *ngFor="let size of pageSizeOptions" [value]="size">{{ size }}</option>
        </select>
      </div>

      <!-- Pagination -->
      <ul class="pagination justify-content-center mb-0">
        <li
          class="page-item"
          [class.disabled]="pageNumber === 1"
          (click)="pageNumber > 1 && onPageChange(pageNumber - 1)"
        >
          <a class="page-link" href="javascript:void(0);">Previous</a>
        </li>

        <li
          class="page-item"
          *ngFor="let page of [].constructor(totalPages); let i = index"
          [class.active]="pageNumber === i + 1"
          (click)="onPageChange(i + 1)"
        >
          <a class="page-link" href="javascript:void(0);">{{ i + 1 }}</a>
        </li>

        <li
          class="page-item"
          [class.disabled]="pageNumber === totalPages"
          (click)="pageNumber < totalPages && onPageChange(pageNumber + 1)"
        >
          <a class="page-link" href="javascript:void(0);">Next</a>
        </li>
      </ul>
    </div>
  </nav>
</div>
